<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MD Tételek</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <style>
  body {
    font-family: Arial, sans-serif;
    margin:15px;
    padding: 0;
    background-color: #f4f4f4;
    overflow-x: hidden; 
}

.navbar {
    width: 210px;
    height: 100%;
    background-color: #CC2B46;
    position: fixed;
    top: 0;
    left: 0;
    overflow-y: auto;
    animation: floatIn 0.4s ease;
  
}
@keyframes slideOutFade {
  0% {
    transform: translateX(0);
    opacity: 1;
  }
  100% {
    transform: translateX(-100%);
    opacity: 0;
  }
}


.navbar:first-of-type ul:first-of-type {
    background-color: #B6263D;
    margin-top: 0;
    padding: 10px;
    font-weight: bolder;
    font-style: normal;
    font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif

}

@keyframes floatIn {
    0% {
        opacity: 0;
        transform: translateX(-100%);
    }
    100% {
        opacity: 1;
        transform: translateX(0);
    }
}
.navbar ul {
    list-style-type: none;
    padding: 0;
    font-weight: bold;
    font-style: normal; 

}

.navbar li {
    padding: 9px; 
    margin: 3px;
    color: #fff;
    cursor: pointer;
    font-size: 1.3rem;
    font-weight: normal;
  
}

.navbar li:hover {
    background-color: #161616;
    opacity: 0.7;
    border-bottom: none; 
}

.content {
    margin-left: 220px;
    padding: 20px;
    background-color: #fff;
    border-radius: 5px; 
}
.content li{
    margin-left: 15px;
}
p {
    margin: 2px;
    font-size: 1.3rem;
}

.tetel-lista {
    margin-left: 0;
    padding-left: 20px;
}

.tetel-lista p {
    margin: 5px 0;
    font-size: 1.2rem;
}
.toggle-nightmode {
    position: fixed;
    right: 10px;
    color: #FFD700;
    cursor: pointer;
    transition: color 0.3s ease;
    z-index: 9999;
    bottom: 70px; 
}


@media only screen and (max-width: 600px) {
  
    .toggle-nightmode {
        position: fixed;
        right: 10px;
        bottom: 10px;
        margin-bottom: 0;
    }
}


.toggle-nightmode:hover {
    color: #000; 
}

body.nightmode {
    background-color: #444; 
}

.content {
    padding-right: 15px; 
    box-sizing: border-box;
    margin-bottom: 50px; 
}


.content li{
    font-size: 20px;
}

body.nightmode .content {
    background-color: #555; 
    color: rgb(0, 0, 0);
}

#nav-tortenelem, #nav-irodalom, #nav-nyelvtan {
    margin: 20px 0px 20px 10px;
    color: #fff;
    cursor: pointer;
    border-bottom: 2px solid #B6263D;
    font-size: 1.5rem;
}
#nav-nyelvtan{
    border-bottom: none;
}
@media only screen and (max-width: 600px) {
    .navbar {
        display: none;
   
    }
    .content {
        width: 100%; 
        border-radius: 0;
        margin-left: 0; 
    }
    .navbar li {
        font-size: 19px;
    }
    #nav-tortenelem, #nav-irodalom, #nav-nyelvtan {
        font-size: 21px;
    }
    .navbar {
        overflow-y: initial; 
    }
}


    #nav-nyelvtan li:last-child {
        margin-bottom: 5rem; }
 

.mobile-nav-icon {
    position: absolute;
    top: 8px;
    right: 8px; 
    z-index: 9999;
    cursor: pointer;
    transition: transform 0.3s ease; 
}

.mobile-nav-icon.opened {
    transform: rotate(90deg);
}

@media only screen and (max-width: 600px) {
    .mobile-nav-icon {
        display: block;
    }
    body{
        margin:6px;
    }
  
}

.question {
    font-size: 21px;
    font-weight: bold;
    font-style: italic;
    margin-bottom: 10px;
    color: #333; 
}

.answer {
    margin-bottom: 5px;
    font-size: 19px;
}

.answer input[type="radio"] {
    margin-right: 5px;
    cursor: pointer;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: 16px;
    height: 16px; 
    border: 2px solid #666; 
    outline: none;
}

.answer input[type="radio"]:checked {
    background-color: #666; 
    border-color: #666;
    box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.2); 
}

.correct-answer {
    color: green;
    font-weight: bold;
}

.wrong-answer {
    color: red;
    text-decoration: line-through;
}

footer {
    margin-top: 10px;
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 20px;
    background-color: #333;
    color: #fff;
    text-align: center;
    padding: 10px;
}
footer p{
    font-size: 1.2rem;
    font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
}


@media only screen and (max-width: 600px) {
   .header {
  position: fixed;
  top: 0;
  z-index: 1;
  width: 120%;
  margin-left: -6px;
}

.progress-container {
  width: 100%;
  height: 8px;
  background-color: #333;

}

.progress-bar {
  height: 8px;
  background: #861225;
  width: 0%;
}
  
}
#btnConcepts button {
    margin-left: 220px;
    background-color: #00A19A;
    color: white; 
    padding: 15px 25px; 
    font-size: 18px; 
    border: none; 
    border-radius: 8px; 
    cursor: pointer; 
    transition: background-color 0.3s ease, font-weight 0.3s ease; 
}

#btnConcepts button:hover {
    background-color: #046d68;
    font-weight: bold;
}

#btnConcepts{
    height: 100px;
}
@media only screen and (max-width: 600px) {
    #btnConcepts button {
        margin-left: 20px;  
    }
}
#overlay {
    display: none;
    
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8); 
    z-index: 999;
    transition: background-color 0.3s ease; 

}

#contentWrapper {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    flex-direction: row; 
    align-items: center;
    justify-content: center;
}

.box {
    flex: 1;
    width: 280px; 
    height: 280px; 
    background-color: #fff;
    margin: 8px; 
    display: flex;
    flex-direction: column; 
    align-items: center;
    justify-content: center;
    border-radius: 20px; 
    font-size: 28px; 
    text-align: center; 
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); 
    transition: transform 0.3s ease, box-shadow 0.3s ease; 
}

.box p{
    font-size: 1.5rem;
    font-weight: bold;
}
.box:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); /
}

#closeButton {
    position: fixed;
    top: 20px;
    right: 40px; 
    background-color: transparent;
    border: none;
    font-size: 40px;
    color: #EA7E36;
    cursor: pointer;
    transition: transform 0.3s ease;
}

#closeButton:hover {
    transform: scale(1.3);
}
#closeButton{
        margin-right: 0.1rem;
    }
    @media only screen and (max-width: 1100px) {

img {
  width: auto;
  max-width: 270px;
  height: 200px;
  cursor: pointer; 
}

    }
@media only screen and (max-width: 900px) {

    #contentWrapper {
        flex-direction: column;
        width: 100%;
    }

    .box {
        width: 50%;
        padding: 30px 0px 30px 0px;
        height: auto;
    }


    #allConcepts {
        width: 90%; 
        height: auto; 
        max-height: 70vh; 
    }
}

@media only screen and (max-width: 400px) {
    #btnConcepts button {
        margin-left: 10px; 
    }
}

#hiddenContent {
    display: none;
    background-color: #fff;
    width: 80%;
    height: 80%;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: 2px solid #000;
    padding: 20px;
    overflow-y: auto;
}
#allConcepts {
    display: flex;
    justify-content: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    height: 70%;
    background-color: rgba(0, 161, 154, 0.8);
    border-radius: 20px; 
    overflow-y: scroll;
    border: 2px solid rgba(255, 255, 255, 0.6); 
    box-shadow: 0px 0px 15px 0px rgba(0,0,0,0.3);
}


#allConcepts li {
    list-style-type: none;
    padding: 20px;
    margin: 5px 8px 5px -30px;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
}


#allConcepts h2 {
    margin-left: 20px;
}

#searchIcon {
    position: absolute;
    top: 30px;
    right: 80px;
    color: #EA7E36; 
    cursor: pointer;
    transition: transform 0.3s ease;
}

#searchIcon:hover {
    transform: scale(1.3);
}
.up-button {
    display: none;
    position: fixed;
    bottom: 60px;
    right: 20px;
    background-color: #EA7E36;
    color: white;
    border: none;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    font-size: 20px;
    line-height: 50px;
    text-align: center;
    cursor: pointer;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    transition: background-color 0.3s, transform 0.3s;
}

.up-button:hover {
    background-color: #9b440a;
}

.up-button.show {
    display: block;
}

@media (max-width: 767px) {
    .up-button {
        bottom:50px; 
        right: 20px;
        width: 60px;
        height: 60px;
        font-size: 18px;
        line-height: 40px;
    }
}
.conceptIcons {
        width: 80px; 
        height: 80px; 
        margin-top: 5px;
    }

    @media only screen and (max-width: 768px) {
        .conceptIcons {
            width: 50px; 
            height: 50px; 
        }
    }

html {
  scrollbar-color: #555555 #1e1e1e;
}


html {
  scrollbar-width: thin;
}


html:hover {
  scrollbar-color: #777777 #1e1e1e;
}
.openableImage{
    cursor: pointer;
}
.openedImage-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    display: none;
    justify-content: center;
    align-items: center;
}

.openedImage-overlay img {
    max-width: 90%;
    max-height: 90%;
}

.openedImage-overlay.active {
    display: flex;
}

@media only screen and (max-width: 768px) {
    .openedImage-overlay img {
        width: 100%;
        height: auto;
    }
}


    </style>
</head>
<body>
    
    <div class="header">
        <div class="progress-container">
          <div class="progress-bar" id="myBar"></div>
        </div>
      </div>
      <div class="openedImages">
     
    </div>
    
<nav class="navbar" >
    <ul id="navbar-list"></ul>

     <ul id="nav-tortenelem"><i class="fas fa-folder"></i> Történelem</ul>
        <ul id="nav-irodalom"><i class="fas fa-folder"></i> Irodalom</ul>
        <ul id="nav-nyelvtan" ><i class="fas fa-folder"></i> Nyelvtan</ul> 
</nav>
<div class="mobile-nav-icon">
    <i class="fas fa-bars fa-2x"></i>
</div>

<div class="content" id="content">
   
</div>

<div id="btnConcepts">
    <button onclick="showOverlay( )">Fogalmak</button>
</div>

<div id="overlay" onclick="hideOverlay()">
    <button id="closeButton">X</button>
    <div id="searchIcon" style="margin-right: 0.5rem; display: none;" >
        <i class="fas fa-search fa-2x" style="cursor: pointer;"></i>
    

    </div>
    <div id="contentWrapper" >

        <div class="box" onclick="showBigBox('Irodalom')">
            <p>
                Irodalom
            </p>
            <img src="Kepek/book.png" class="conceptIcons" >

            <div id="IrodalomContent" style="display: none;">
            </div>
        </div>
        <div class="box" onclick="showBigBox('Nyelvtan')">
            <p>
                Nyelvtan
            </p>
            <img src="Kepek/chalkboard.png"  class="conceptIcons" >
      
            <div id="NyelvtanContent" style="display: none;">
            </div>
        </div>
        <div class="box" onclick="showBigBox('Történelem')">
            <p>
                Történelem
            </p>
            <img src="Kepek/writing.png"  class="conceptIcons">
            <div id="ToriContent" style="display: none;">
            </div>
        
        </div>
    </div>
    <div id="allConcepts" style="display: none;">
        

    </div>
</div>


<footer>
    <div>
       <p> 2024 ÉRETTSÉGI TÉTELEK</p>

    </div>
</footer>
<script>

const upButton = document.createElement('button');
upButton.innerHTML = '<i class="fas fa-arrow-up"></i>'; 
upButton.classList.add('up-button');
document.body.appendChild(upButton);

window.addEventListener('scroll', () => {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        upButton.style.display = 'block';
    } else {
        upButton.style.display = 'none';
    }
});

upButton.addEventListener('click', () => {
 
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
});

document.getElementById("searchIcon").addEventListener("click", function(event) {
    event.stopPropagation();
    const searchTerm = prompt("Keresendő szó:");
    if (searchTerm !== null && searchTerm.trim() !== "") {
        searchContent(searchTerm);
    }
});

function searchContent(searchTerm) {
    const contentDiv = document.getElementById("allConcepts");
    const lis = contentDiv.querySelectorAll("li");

    let firstFoundIndex = -1; 
    lis.forEach((li, index) => {
        li.style.backgroundColor = "";
        if (li.textContent.toLowerCase().includes(searchTerm)) { 
            if (firstFoundIndex === -1) {
                firstFoundIndex = index;
            }
            li.style.backgroundColor = "yellow";
        }
    });
    
    if (firstFoundIndex !== -1) {
        lis[firstFoundIndex].scrollIntoView({ behavior: "smooth", block: "center" });
    } else {
        alert("Nincs találat.");
    }
}

    function showOverlay() {
        document.getElementById("overlay").style.display = "block";
        document.getElementById("contentWrapper").style.display = "flex";
        document.getElementById("searchIcon").style.display = "none";
    }

    function hideOverlay(event) {
    if (event && (event.target.id === "overlay" || event.target.id === "closeButton")) {
        document.getElementById("overlay").style.display = "none";
        document.getElementById("contentWrapper").style.display = "none";
        document.getElementById("allConcepts").style.display = "none";
        document.getElementById("searchIcon").style.display = "none";
        
    }
}

document.getElementById("closeButton").addEventListener("click", hideOverlay);

    document.getElementById("overlay").addEventListener("click", hideOverlay);


function showBigBox(folder) {
    document.getElementById("allConcepts").style.display = "flex";
    document.getElementById("searchIcon").style.display = "block";
    document.getElementById("contentWrapper").style.display = "none";

    let fileToLoad;
    switch (folder) {
        case 'Irodalom':
            fileToLoad = 'Fogalmak1.md';
            break;
        case 'Nyelvtan':
            fileToLoad = 'Fogalmak2.md';
            break;
        case 'Történelem':
            fileToLoad = 'Fogalmak3.md';
            break;
        default:
            console.error('Ismeretlen mappa:', folder);
            return;
    }
fetch(`/api/fogalmak/${fileToLoad}`)
    .then(response => response.text())
    .then(data => {

        const lines = data.split('\n');
        const firstLine = lines.shift();
        const formattedFirstLine = `<h2>${firstLine}</h2>`;

        let listItems = lines.map(line => {
            if (line.trim() === '') return ''; 

            let words = line.split(' '); 
            let formattedLine = '';
            words.forEach(word => {
            
                if (word.includes(':')) {
                    formattedLine += `<b>${word}</b> `;
                } else {
                    formattedLine += `${word} `;
                }
            });
            return `<li>${formattedLine.trim()}</li>`;
        }).join('');

        document.getElementById("allConcepts").innerHTML = `<div>${formattedFirstLine}<ul>${listItems}</ul></div>`;
    })
    .catch(error => console.error('Hiba történt a fogalmak lekérése közben:', error));





}


    window.onscroll = function() {myFunction()};

function myFunction() {
  var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
  var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
  var scrolled = (winScroll / height) * 100;
  document.getElementById("myBar").style.width = scrolled  + "%";
} 

document.addEventListener("DOMContentLoaded", function () {
    var mobileNavIcon = document.querySelector('.mobile-nav-icon');
    var navbar = document.querySelector('.navbar');
    navbar.style.overflow = 'scroll';

    function switchToDesktopView() {
        navbar.style.display = 'block';
        mobileNavIcon.style.display = 'none';
    }

    function switchToMobileView() {
        if (navbar.style.display !== 'block') {
            mobileNavIcon.style.display = 'block';
        }
    }

mobileNavIcon.addEventListener('click', function(event) {
    event.stopPropagation();
    if (window.innerWidth <= 600) {
        if (navbar.style.display === 'block') {
            mobileNavIcon.classList.remove('opened');
            navbar.style.display = 'none';
           
        } else {
            mobileNavIcon.classList.add('opened'); 
         
            navbar.style.display = 'block';
            
        }
    }
});


document.addEventListener('click', function(event) {
    if (window.innerWidth <= 600) {
        
        const isNavbar = event.target.closest('.navbar');
        const isMobileNavIcon = event.target.closest('.mobile-nav-icon');
        const isNavbarListItem = event.target.closest('li');
        
        if (isNavbarListItem || (!isNavbar && !isMobileNavIcon && navbar.style.display === 'block')) {
            navbar.style.animation = 'slideOutFade 0.5s forwards'; 
            mobileNavIcon.classList.remove('opened');
            setTimeout(function() {
                navbar.style.display = 'none'; 
                navbar.style.animation = ''; 
            }, 500); 
        }

        if (isNavbar && mobileNavIcon.style.display !== 'block') {
            mobileNavIcon.style.display = 'block';
        }
    }
});


    window.addEventListener('resize', function() {
        if (window.innerWidth > 600) {
            switchToDesktopView();
        } else {
            switchToMobileView();
            mobileNavIcon.style.display = 'block';
        }
    });

    if (window.innerWidth <= 600) {
        switchToMobileView();
    } else {
        switchToDesktopView();
    }
});

    let selectedFileName = ""; 

    document.addEventListener("DOMContentLoaded", function () {
    initializeContent();

    const navbarList = document.getElementById("navbar-list");

    const homeListItem = createNavItem("Kezdőlap", () => {
        initializeContent();
    });
    homeListItem.style.fontSize = "1.6rem";
    homeListItem.style.fontStyle = "normal";
    homeListItem.style.transition = "color 0.3s ease"; 
    homeListItem.onmouseover = function() {
        this.style.color = "white";
    };

    homeListItem.onmouseleave = function() {
        this.style.color = "#161920";
    };

    homeListItem.style.color = "#161920";
    navbarList.appendChild(homeListItem);


function addListItemsToNav(ulElement, files) {
    const mdFiles = files.filter(filename => filename.endsWith('.md'));
    if (mdFiles.length === 0) return;

    mdFiles.forEach(filename => {
        const listItem = document.createElement("li");
        const icon = document.createElement("i");
        icon.classList.add("fas", "fa-file");
        const lastDotIndex = filename.lastIndexOf('.');
        let pureFileName = filename.substring(filename.lastIndexOf('/') + 1, lastDotIndex);
        pureFileName = pureFileName.substring(pureFileName.lastIndexOf('\\') + 1, lastDotIndex);

        const textNode = document.createTextNode(pureFileName); 
        listItem.appendChild(icon);
        listItem.appendChild(document.createTextNode(' '));
        listItem.appendChild(textNode);
        listItem.addEventListener("click", () => {
            selectedFileName = filename.split('.')[0];
            getContent(filename);
            clearActiveStates();
            const previousIcon = document.querySelector('.fa-chevron-right');
            if (previousIcon) {
                previousIcon.classList.remove('fa-chevron-right');
                previousIcon.classList.add('fa-file');
            }
            icon.classList.remove('fa-file');
            icon.classList.add('fa-chevron-right');
        });

        ulElement.appendChild(listItem);
    });
}

    ['Tortenelem', 'Irodalom', 'Nyelvtan'].forEach(folder => {
        fetch(`/api/files/${encodeURIComponent(folder)}`)
            .then(response => response.json())
            .then(data => {
                const ulElement = document.getElementById(`nav-${folder.toLowerCase()}`);
                addListItemsToNav(ulElement, data.files);
            })
            .catch(error => console.error(`Hiba történt a ${folder} mappa lekérdezése közben:`, error));
    });
});


function initializeContent() {
    document.getElementById("content").innerHTML = `
        <h1>ÉRETTSÉGI TÉTELEK 2024</h1>
        <h2>Kidolgozott tételek:</h2>`;
        clearActiveStates(); 
        showAllItems();
}


function createNavItem(label, clickHandler) {
    const listItem = document.createElement("li");
    listItem.style.fontWeight = "bold";
    listItem.style.fontSize = "1.4rem";
    listItem.innerHTML = `<i class="fas fa-home"></i> ${label}`;
    listItem.addEventListener("click", () => {
        clearActiveStates(); 
        clickHandler();
        const previousIcon = document.querySelector('.fa-chevron-right');
        if (previousIcon) {
            previousIcon.classList.remove('fa-chevron-right');
            previousIcon.classList.add('fa-file');
        }
    });
    return listItem;
}


    function clearActiveStates() {
        const navbarList = document.getElementById("navbar-list");
        navbarList.childNodes.forEach(node => {
            if (node.innerHTML.includes('fa-chevron-right')) {
                node.innerHTML = node.innerHTML.replace('fa-chevron-right', 'fa-folder'); 
            }
        });
    }


function getContent(filename) {
    selectedFileName = filename.split('.')[0]; 
    fetch(`/api/md/${encodeURIComponent(filename)}`)
        .then(response => response.text())
        .then(data => {
            data = data.replace(/##(.*?)##/g, '<span style="background-color: yellow;">$1</span>');
            data = data.replace(/--(.*?)--/g, '<span style="text-decoration: underline;">$1</span>');
            data = data.replace(/@@(.*?)@@/g, '<h2>$1</h2>');
            data = data.replace(/&&(.*?)&&/g, '<li>$1</li>');
            data = data.replace(/!!(.*?) /g, '<br>$1 ');
            data = data.replace(/\*\*(.*?)\.jpg\*\*/g, '<img class="openableImage" src="Kepek/$1.jpg" style="max-width: 200px; max-height: 200px;">');
            data = data.replace(/\%\%(.*?)\.jpg\%\%/g, '<img class="openableImage" src="Kepek/$1.jpg" style="max-width: 580px; max-height: 580px;">');
            data = data.replace(/\=\=(.*?)\.jpg\=\=/g, '<img class="openableImage" src="Kepek/$1.jpg" style="max-width: 420px; max-height: 420px;">');

            data = data.replace(/\?\?(.*?)\?\?/g, '<div class="question">$1</div>');
            data = data.replace(/\$-(.*?)-\$/g, '<div class="answer"><input type="radio" name="answer" value="$1">$1</div>');
            data = data.replace(/\$\$(.*?)\$\$/g, '<div class="answer correct"><input type="radio" name="answer" value="$1">$1</div>');

            const contentDiv = document.getElementById("content");
            contentDiv.innerHTML = data;
            const answerDivs = contentDiv.querySelectorAll('.answer');
            answerDivs.forEach(answerDiv => {
                const radioButton = answerDiv.querySelector('input[type="radio"]');
                answerDiv.addEventListener('click', (event) => {
                    if (event.target === radioButton) {
                        const isCorrect = answerDiv.classList.contains('correct');
                        
                 
                        answerDivs.forEach(div => {
                            div.classList.remove('correct-answer');
                            div.classList.remove('wrong-answer');
                        });

                        if (isCorrect) {
                            answerDiv.classList.add('correct-answer');
                        } else {
                            answerDiv.classList.add('wrong-answer');
                        }
                    }
                });
            });


            const openableImages = document.querySelectorAll('.openableImage');
const openedImagesContainer = document.querySelector('.openedImages');
const overlay = document.createElement('div');
overlay.classList.add('openedImage-overlay');
document.body.appendChild(overlay);

openableImages.forEach(image => {
    image.addEventListener('click', function() {
        const imageURL = this.getAttribute('src');
        const imgElement = document.createElement('img');
        imgElement.setAttribute('src', imageURL);
        overlay.innerHTML = ''; // Clearing existing content
        overlay.appendChild(imgElement);
        overlay.classList.add('active');
    });
});

overlay.addEventListener('click', function() {
    this.classList.remove('active');
});

        })
        .catch(error => console.error('Hiba történt a fájl tartalmának lekérése közben:', error));
}


function showAllItems() {
    const contentDiv = document.getElementById("content");
    contentDiv.innerHTML = `
        <h1>ÉRETTSÉGI TÉTELEK 2024</h1>`;
        
    fetch(`/api/files`)
        .then(response => response.json())
        .then(data => {
            let totalCount = 0;
            data.directories.forEach((directory, index) => {
                fetch(`/api/files/${encodeURIComponent(directory)}`)
                    .then(response => response.json())
                    .then(data => {
                        if (data.files.length > 0) {
                            let count = 0;

                            const images = [
                                { src: 'Kepek/book.png', width: '32px', height: '32px' },
                                { src: 'Kepek/chalkboard.png', width: '32px', height: '32px' },
                                { src: 'Kepek/writing.png', width: '32px', height: '32px' }
                            ];

                            let displayDirectory = directory;
                            if (directory === "Tortenelem") {
                                displayDirectory = "Történelem";
                            }

                            contentDiv.innerHTML += `<div style="display: flex; align-items: center; margin-bottom: 1px;"><img src="${images[index].src}" style="margin: 10px 4px -8px 0px; width: ${images[index].width}; height: ${images[index].height};"></img><h2 style="margin:20px 0px 0px 0px;">${displayDirectory}</h2></div>`;
                            contentDiv.innerHTML += '<ul style="margin-bottom: 5px;">';
                            data.files.forEach(file => {
                                if (file.endsWith('.md')) {
                                    count++;
                                    totalCount++;
                                    const fileName = file.split('/').pop().split('\\').pop().replace('.md', '');
                                    contentDiv.innerHTML += `<li style="font-size: 1.3rem; list-style: none; margin-left: 25px; margin-bottom: 2px;"> ${count}. ${fileName}</li>`;
                                }
                            });
                            contentDiv.innerHTML += '</ul>';
                            
                        }
                        
                    })

                    
                    .catch(error => console.error(`Hiba történt a ${directory} mappa lekérdezése közben:`, error))
                    .finally(() => {
              
                    

                    });
            });
        })
        .catch(error => console.error('Hiba történt a mappák lekérdezése közben:', error));

   

}

</script>



</body>
</html>